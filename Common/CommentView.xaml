<UserControl
    x:Class="Trivial.UI.CommentView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Trivial.UI"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <Style TargetType="local:CommentView" >
                <Setter Property="Foreground" Value="{ThemeResource WinKit.Foreground}" />
                <Setter Property="FontSize" Value="14" />
                <Setter Property="AvatarWidth" Value="36" />
                <Setter Property="AvatarHeight" Value="36" />
                <Setter Property="AvatarCornerRadius" Value="20" />
                <Setter Property="AvatarBackground" Value="{ThemeResource WinKit.ImageBackground}" />
                <Setter Property="AvatarMargin" Value="0" />
                <Setter Property="SenderMargin" Value="46,0,0,0" />
                <Setter Property="SenderOrientation" Value="Vertical" />
                <Setter Property="NicknameForeground" Value="{ThemeResource WinKit.TitleForeground}" />
                <Setter Property="NicknameFontSize" Value="14" />
                <Setter Property="SubtitleForeground" Value="{ThemeResource WinKit.DescriptionForeground}" />
                <Setter Property="SubtitleFontSize" Value="12" />
                <Setter Property="DescriptionForeground" Value="{ThemeResource WinKit.DescriptionForeground}" />
                <Setter Property="DescriptionFontSize" Value="12" />
                <Setter Property="ContentMargin" Value="0,42,0,0" />
                <Setter Property="ReplyPanelStyle" >
                    <Setter.Value>
                        <Style TargetType="StackPanel">
                            <Setter Property="Background" Value="#10808080" />
                            <Setter Property="Padding" Value="15" />
                            <Setter Property="Margin" Value="0,8,0,0" />
                            <Setter Property="BorderBrush" Value="#30808080" />
                            <Setter Property="BorderThickness" Value="1" />
                            <Setter Property="CornerRadius" Value="4" />
                            <Setter Property="Spacing" Value="20" />
                        </Style>
                    </Setter.Value>
                </Setter>
            </Style>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid x:DefaultBindMode="OneWay" Background="{x:Bind Background}" BackgroundSizing="{x:Bind BackgroundSizing}" Width="{x:Bind Width}" Height="{x:Bind Height}" Padding="{x:Bind Padding}" BorderBrush="{x:Bind BorderBrush}" BorderThickness="{x:Bind BorderThickness}" CornerRadius="{x:Bind CornerRadius}" >
        <Border x:Name="BackgroundPanel" Margin="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
        <Border Width="{x:Bind AvatarWidth}" Height="{x:Bind AvatarHeight}" CornerRadius="{x:Bind AvatarCornerRadius}" Margin="{x:Bind AvatarMargin}" Background="{x:Bind AvatarBackground}" BackgroundSizing="{x:Bind AvatarBackgroundSizing}" HorizontalAlignment="Left" VerticalAlignment="Top" >
            <Image x:Name="AvatarImage" Stretch="UniformToFill" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                <Image.Source>
                    <BitmapImage UriSource="{x:Bind AvatarUri}" />
                </Image.Source>
            </Image>
        </Border>
        <Border x:Name="SenderCornerPanel" Margin="0" HorizontalAlignment="Right" VerticalAlignment="Top" />
        <StackPanel Orientation="Vertical" Spacing="{x:Bind SenderSpacing}" Margin="{x:Bind SenderMargin}" HorizontalAlignment="Stretch" VerticalAlignment="Top" >
            <StackPanel x:Name="SenderPanel" Orientation="Horizontal" Spacing="{x:Bind NicknameSpacing}" HorizontalAlignment="{x:Bind SenderHorizontalAlignment}" >
                <TextBlock x:Name="NicknameText" Text="{x:Bind Nickname}" Foreground="{x:Bind NicknameForeground}" FontSize="{x:Bind NicknameFontSize}" FontWeight="{x:Bind NicknameFontWeight}" FontStyle="{x:Bind NicknameFontStyle}" FontFamily="{x:Bind FontFamily}" TextWrapping="NoWrap" TextTrimming="{x:Bind SenderTrimming}" VerticalAlignment="Center" IsTextSelectionEnabled="{x:Bind IsNicknameSelectionEnabled}" />
                <TextBlock x:Name="SubtitleText" Text="{x:Bind Subtitle}" Foreground="{x:Bind SubtitleForeground}" FontSize="{x:Bind SubtitleFontSize}" FontWeight="{x:Bind SubtitleFontWeight}" FontStyle="{x:Bind SubtitleFontStyle}" FontFamily="{x:Bind FontFamily}" TextWrapping="NoWrap" TextTrimming="{x:Bind SenderTrimming}" VerticalAlignment="Center" IsTextSelectionEnabled="{x:Bind IsNicknameSelectionEnabled}" />
                <Border x:Name="NicknameAdditionalInfo" VerticalAlignment="Center" ></Border>
            </StackPanel>
            <TextBlock x:Name="DescriptionText" Text="{x:Bind Description}" Foreground="{x:Bind DescriptionForeground}" FontSize="{x:Bind DescriptionFontSize}" FontWeight="{x:Bind DescriptionFontWeight}" FontStyle="{x:Bind DescriptionFontStyle}" FontFamily="{x:Bind FontFamily}" TextWrapping="NoWrap" TextTrimming="{x:Bind SenderTrimming}" HorizontalAlignment="{x:Bind SenderHorizontalAlignment}" HorizontalTextAlignment="{x:Bind HorizontalTextAlignment}" IsTextSelectionEnabled="{x:Bind IsDescriptionSelectionEnabled}" />
            <Border x:Name="SenderAdditionalInfo" HorizontalAlignment="{x:Bind SenderHorizontalAlignment}" ></Border>
        </StackPanel>
        <StackPanel Orientation="Vertical" Margin="{x:Bind ContentMargin}" HorizontalAlignment="Stretch" VerticalAlignment="Top" >
            <Border x:Name="BeforeContentPanel" ></Border>
            <TextBlock x:Name="ContentText" Text="{x:Bind Text}" Height="{x:Bind ContentHeight}" Foreground="{x:Bind Foreground}" FontSize="{x:Bind FontSize}" FontWeight="{x:Bind FontWeight}" FontStyle="{x:Bind FontStyle}" FontFamily="{x:Bind FontFamily}" TextWrapping="WrapWholeWords" TextTrimming="WordEllipsis" HorizontalTextAlignment="{x:Bind HorizontalTextAlignment}" IsTextSelectionEnabled="{x:Bind IsTextSelectionEnabled}" />
            <Border x:Name="ContentPanel" ></Border>
            <Border x:Name="AfterContentPanel" ></Border>
            <StackPanel x:Name="ReplayPanel" Style="{x:Bind ReplyPanelStyle}" Visibility="{x:Bind ReplyVisibility}" />
        </StackPanel>
    </Grid>
</UserControl>
